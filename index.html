<!DOCTYPE html>
<html lang="it">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Calcolatore Crocchette per Cani</title>
    <style>
        body {
            background-color: #121212;
            color: #ffffff;
            font-family: 'Roboto', sans-serif;
            margin: 0;
            padding: 0;
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
            overflow: hidden;
            transition: background-color 0.3s, color 0.3s;
        }

        .container {
            background-color: #2e2e2e;
            border-radius: 12px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.5);
            width: 90%;
            max-width: 500px;
            padding: 30px;
            overflow-y: auto;
            max-height: 80vh;
            box-sizing: border-box;
            overflow-x: hidden;
        }
        span{
            display: inline-block;
        }

        h1 {
            font-size: 24px;
            text-align: center;
            margin-bottom: 20px;
            color: #b57fdb; /* Colore viola/lilla per il titolo */
        }

        label {
            font-size: 16px;
            font-weight: bold;
            margin-top: 15px;
            display: block;
            color: #ffffff;
        }

        .myText {
            font-size: 14px;
            font-weight: normal;
            display: block;
            color: #ffffff;
        }

        input, label {
         width: 100%;  /* Garantisce che gli elementi non eccedano la larghezza */
        }

        input, select, button {
            width: 100%;
            padding: 12px;
            margin: 10px 0;
            border: 2px solid #555;
            border-radius: 8px;
            font-size: 16px;
            transition: all 0.3s ease;
            box-sizing: border-box;
        }

        input:focus, select:focus {
            border-color: #b57fdb; /* Bordo viola/lilla */
            outline: none;
        }

        button {
            background-color: #b57fdb; /* Viola/lilla per il bottone */
            color: white;
            font-weight: bold;
            cursor: pointer;
            border: none;
            transition: background-color 0.3s ease;
            padding: 15px;
        }

        button:hover {
            background-color: #9a67d9; /* Colore viola più scuro all'hover */
        }

        .result {
            background-color: #444444;
            border: 2px solid #b57fdb; /* Bordo viola/lilla per il risultato */
            color: #b57fdb; /* Testo viola/lilla per il risultato */
            font-size: 18px;
            font-weight: bold;
            text-align: center;
            padding: 15px;
            border-radius: 8px;
            display: none;
            margin-top: 20px;
        }

        .sources {
            margin-top: 20px;
            font-size: 14px;
            color: #888;
            display: none;
        }

        .sources a {
            color: #b57fdb; /* Link viola/lilla per le fonti */
            text-decoration: none;
        }

        .sources a:hover {
            text-decoration: underline;
        }

       .info-section {
			margin-top: 20px;
			padding: 15px;
			background-color: #3c3c3c;
			border-radius: 8px;
			color: #b57fdb; /* Colore di default */
			display: none;
			transition: all 0.3s ease;
		}

		.info-section ul {
			list-style-type: none;
			padding: 0;
			margin: 0;
		}

		.info-section ul li {
			padding: 5px 0;
		}

		.info-section ul li br + * {
			color: white; /* Colore bianco per il testo che segue direttamente un <br> */
		}

        @media (max-width: 600px) {
            .container {
                padding: 20px;
                max-width: 90%;
            }

            h1 {
                font-size: 22px;
            }

            input, select, button {
                font-size: 14px;
                padding: 10px;
            }

            .result {
                font-size: 16px;
                padding: 12px;
            }

            .sources {
                font-size: 12px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>Calcolatore Crocchette per Cani</h1>
        <form id="foodCalculatorForm">
            <label for="pesoIdeale">Peso ideale del cane (kg):</label>
            <input type="number" id="pesoIdeale" placeholder="Es. 30" required>

            <label for="metodoInput">Metodo di calcolo:</label>
             <!-- Descrizione per chiarire il metodo -->
             <p id="metodoDescrizione" class="myText">
                Scegli il metodo che preferisci per calcolare la quantità di crocchette per il tuo cane. 
                <strong>"Kcal per kg"</strong> si basa sul contenuto calorico, mentre <strong>"Composizione"</strong> usa la percentuale di proteine, grassi e carboidrati.
            </p>
            <select id="metodoInput" onchange="toggleInputMethod()">
                <option value="kcal" selected>Calcola con le Kcal per kg di crocchette</option>
                <option value="composizione">Calcola con la composizione delle crocchette (Proteine, Grassi, Carboidrati)</option>
            </select>
            
           

            <!-- Campo Kcal per kg (sempre visibile) -->
            <label for="kcalPerKg">Kcal per kg di crocchette:</label>
            <input type="number" id="kcalPerKg" placeholder="Es. 3600" required>

            <!-- Campi composizione (disabilitati di default) -->
            <label for="proteine">Proteine (% nelle crocchette):</label>
            <input type="number" id="proteine" placeholder="Es. 25" disabled>

            <label for="grassi">Grassi (% nelle crocchette):</label>
            <input type="number" id="grassi" placeholder="Es. 15" disabled>

            <label for="carboidrati">Carboidrati (% nelle crocchette)</label>
            <label for="carboidrati" class="myText">Se non disponibile, sottrai da 100 ogni percentuale riportata nella composizione</label>
            <label for="carboidrati" class="myText" style="align-content: center; justify-content: center; justify-items: center; justify-self: center;">Esempio:</label>
            <label for="carboidrati" class="myText">Composizione:<br> Proteina grezza
                <span style="font-weight: bold; color: #b57fdb;">24</span>%, 
                umidità <span style="font-weight: bold; color: #b57fdb;">10</span>%, 
                ceneri <span style="font-weight: bold; color: #b57fdb;">6</span>%, 
                oli e grassi <span style="font-weight: bold; color: #b57fdb;">12</span>%, 
                fibra grezza <span style="font-weight: bold; color: #b57fdb;">3</span>%, 
                calcio <span style="font-weight: bold; color: #b57fdb;">1,1</span>%, 
                fosforo <span style="font-weight: bold; color: #b57fdb;">0,8</span>%.</label>

            <label for="carboidrati" class="myText">Calcolo:<br> 100 -
            (<span style="font-weight: bold; color: #b57fdb;">24</span> +
            <span style="font-weight: bold; color: #b57fdb;">10</span> +
            <span style="font-weight: bold; color: #b57fdb;">6</span> +
            <span style="font-weight: bold; color: #b57fdb;">12</span> +
            <span style="font-weight: bold; color: #b57fdb;">3</span> +
            <span style="font-weight: bold; color: #b57fdb;">1,1</span> +
            <span style="font-weight: bold; color: #b57fdb;">0,8</span>) =
            <span style="font-weight: bold; color: #b57fdb; text-decoration: underline;">43,1</span>% carboidrati.</label>

            <input type="number" id="carboidrati" placeholder="Es. 40" disabled>

            <label for="attività">Fattore di attività:</label>
            <select id="attività" required>
                <option value="1.2">Sedentario (passeggiate fisiologiche)</option>
                <option value="1.5" selected>Moderato (attività fisica occasionale)</option>
                <option value="1.8">Molto Attivo (da lavoro/sport)</option>
            </select>

            <label for="temperatura">Temperatura media ambientale (°C):</label>
            <input type="number" id="temperatura" placeholder="Es. 20" required>

            <label for="razzaIncline">Razza incline all'ingrassamento:</label>
            <select id="razzaIncline">
                <option value="false" selected>No</option>
                <option value="true">Sì</option>
            </select>
            <button type="button" class="info-btn" onclick="toggleInfoSection()">Info</button>
			 <div class="info-section" id="infoSection">
			<h3>Razze più inclini all'ingrassamento:</h3>
			<ul>
				<li><strong>Bulldog Inglese</strong><br>Questa razza tende ad ingrassare facilmente, anche per via della sua bassa energia e della conformazione corporea che non favorisce il movimento.</li>
				<li><strong>Cocker Spaniel</strong><br>Questi cani sono noti per la loro golosità e la tendenza a ingrassare, soprattutto se non fanno abbastanza esercizio fisico.</li>
				<li><strong>Beagle</strong><br>Amanti del cibo, i Beagle possono facilmente ingrassare se non vengono monitorati, nonostante siano attivi.</li>
				<li><strong>Golden Retriever</strong><br>Sebbene siano attivi e socievoli, i Golden Retriever possono ingrassare facilmente se non ricevono il giusto esercizio o se mangiano troppo.</li>
				<li><strong>Lab Retriever</strong><br>I Labrador sono famosi per il loro amore per il cibo, e se non sono esercitati adeguatamente, tendono a guadagnare peso facilmente.</li>
				<li><strong>Dachshund (Bassotto)</strong><br>La loro conformazione fisica non favorisce un’attività intensa, quindi sono facilmente soggetti a ingrassare.</li>
				<li><strong>Basset Hound</strong><br>Metabolismo lento e natura tranquilla li rendono inclini all’obesità se non monitorati nella dieta e nell’esercizio.</li>
				<li><strong>Shih Tzu</strong><br>Anche se attivi, i Shih Tzu tendono ad ingrassare facilmente se non vengono stimolati fisicamente.</li>
				<li><strong>Pug (Carlino)</strong><br>Golosi e con un metabolismo lento, i carlini possono facilmente diventare obesi se non esercitati regolarmente.</li>
				<li><strong>Cavalier King Charles Spaniel</strong><br>Sebbene siano attivi, la loro natura golosa può farli ingrassare se non gestiti bene nella dieta.</li>
			</ul>
		</div>

            <label for="condizioneFisica">Condizione fisica:</label>
            <select id="condizioneFisica">
                <option value="normale">Normale</option>
                <option value="sottopeso">Sottopeso</option>
                <option value="sovrappeso">Sovrappeso</option>
            </select>

            <label for="sterilizzato">Sterilizzato/Spayed:</label>
            <select id="sterilizzato">
                <option value="false">No</option>
                <option value="true">Sì</option>
            </select>

            <label for="condizioniMediche">Condizioni mediche (Obesità, Diabete, ecc.):</label>
            <select id="condizioniMediche">
                <option value="none">Nessuna</option>
                <option value="obesità">Obesità</option>
                <option value="diabete">Diabete</option>
                <option value="altro">Altro</option>
            </select>

            <label for="faseVita">Fase di vita:</label>
            <select id="faseVita">
                <option value="normale">Adulto</option>
                <option value="cucciolo">Cucciolo</option>
                <option value="anziano">Anziano</option>
            </select>

            <button type="submit">Calcola</button>
        </form>

        <div class="result" id="result"></div>
        <div class="sources" id="sources">
            <p>Fonti:
                    <a href="https://www.petmd.com/dog/nutrition/how-many-calories-does-a-dog-need" target="_blank">PetMD - How Many Calories Does a Dog Need?</a><br>
                    <a href="https://www.akc.org/expert-advice/nutrition/how-much-should-i-feed-my-dog/" target="_blank">American Kennel Club - How Much Should I Feed My Dog?</a><br>
                    <a href="https://www.purina.com/pet-food-feeding-guide-calculator" target="_blank">Purina - Dog & Cat Food Feeding Guide Calculator</a>
                </p>
        </div>

      

    </div>

    <script>
       function toggleInputMethod() {
            const metodoInput = document.getElementById('metodoInput').value;
            const kcalInput = document.getElementById('kcalPerKg');
            const proteineInput = document.getElementById('proteine');
            const grassiInput = document.getElementById('grassi');
            const carboidratiInput = document.getElementById('carboidrati');

            // Seleziona tutte le etichette per carboidrati
            const carboidratiLabels = document.querySelectorAll('label[for="carboidrati"]');
            const proteineLabel = document.querySelector('label[for="proteine"]');
            const grassiLabel = document.querySelector('label[for="grassi"]');
            const kcalLabel = document.querySelector('label[for="kcalPerKg"]');

            if (metodoInput === 'kcal') {
                kcalInput.disabled = false;
                proteineInput.disabled = true;
                grassiInput.disabled = true;
                carboidratiInput.disabled = true;

                // Mostra solo il campo per le kcal e nasconde gli altri
                kcalInput.style.display = 'block';  // Assicurati che il campo kcal sia visibile
                proteineInput.style.display = 'none';  // Nasconde il campo proteine
                grassiInput.style.display = 'none';   // Nasconde il campo grassi
                carboidratiInput.style.display = 'none';  // Nasconde il campo carboidrati
                
                proteineLabel.style.display = 'none';   // Nasconde l'etichetta proteine
                grassiLabel.style.display = 'none';     // Nasconde l'etichetta grassi
                // Nascondi tutte le etichette di carboidrati
                carboidratiLabels.forEach(label => label.style.display = 'none');
                kcalLabel.style.display = 'block';     // Mostra l'etichetta per kcal
            } else {
                // Mostra i campi per proteine, grassi e carboidrati e nasconde le kcal
                kcalInput.disabled = true;
                proteineInput.disabled = false;
                grassiInput.disabled = false;
                carboidratiInput.disabled = false;

                kcalInput.style.display = 'none';    // Nasconde il campo kcal
                proteineInput.style.display = 'block';  // Mostra il campo proteine
                grassiInput.style.display = 'block';   // Mostra il campo grassi
                carboidratiInput.style.display = 'block';  // Mostra il campo carboidrati
                
                proteineLabel.style.display = 'block';   // Mostra l'etichetta proteine
                grassiLabel.style.display = 'block';     // Mostra l'etichetta grassi
                // Mostra tutte le etichette di carboidrati
                carboidratiLabels.forEach(label => label.style.display = 'block');
                kcalLabel.style.display = 'none';    // Nasconde l'etichetta per kcal
            }


        }


        function toggleInfoSection() {
            const infoSection = document.getElementById('infoSection');
            infoSection.style.display = infoSection.style.display === 'block' ? 'none' : 'block';
        }

     document.getElementById('foodCalculatorForm').addEventListener('submit', function(event) {
    event.preventDefault();

    const pesoIdeale = parseFloat(document.getElementById('pesoIdeale').value);
    const metodoInput = document.getElementById('metodoInput').value;
    let calorieCrocchette;

    if (metodoInput === 'kcal') {
    calorieCrocchette = parseFloat(document.getElementById('kcalPerKg').value);
    } else {
        const proteine = parseFloat(document.getElementById('proteine').value);
        const grassi = parseFloat(document.getElementById('grassi').value);
        const carboidrati = parseFloat(document.getElementById('carboidrati').value);
        // Calcolo corretto delle kcal per kg
        const kcalPer100g = (proteine * 4) + (grassi * 9) + (carboidrati * 4);
        calorieCrocchette = kcalPer100g * 10;
    }


    // Calcolo delle calorie giornaliere basato sul peso ideale
    const rer = 70 * Math.pow(pesoIdeale, 0.75);
    let fabbisognoCalorico = rer * 1.3; // Fattore di attività medio (1.3)

    // Considerare il fattore di attività
    const attivita = parseFloat(document.getElementById('attività').value);
    fabbisognoCalorico *= attivita;

    // Considerare la sterilizzazione (ridurre le calorie del 10% se sterilizzato)
    const sterilizzato = document.getElementById('sterilizzato').value === 'true';
    if (sterilizzato) {
        fabbisognoCalorico *= 0.9; // Ridurre del 10% se sterilizzato
    }

    // Considerare la condizione fisica
    const condizioneFisica = document.getElementById('condizioneFisica').value;
    if (condizioneFisica === 'sottopeso') {
        fabbisognoCalorico *= 1.1; // Aumentare il fabbisogno calorico del 10% se sottopeso
    } else if (condizioneFisica === 'sovrappeso') {
        fabbisognoCalorico *= 0.9; // Ridurre del 10% se sovrappeso
    }

    // Considerare le condizioni mediche (esempio: obesità riduce le calorie)
    const condizioniMediche = document.getElementById('condizioniMediche').value;
    if (condizioniMediche === 'obesità') {
        fabbisognoCalorico *= 0.8; // Ridurre del 20% in caso di obesità
    } else if (condizioniMediche === 'diabete') {
        fabbisognoCalorico *= 0.9; // Ridurre del 10% in caso di diabete
    }

    // Considerare la fase di vita
    const faseVita = document.getElementById('faseVita').value;
    if (faseVita === 'cucciolo') {
        fabbisognoCalorico *= 1.5; // Aumentare del 50% se cucciolo
    } else if (faseVita === 'anziano') {
        fabbisognoCalorico *= 0.8; // Ridurre del 20% se anziano
    }

    // Considerare la temperatura ambientale
    const temperatura = parseFloat(document.getElementById('temperatura').value);
    if (temperatura < 10) {
        fabbisognoCalorico *= 1.15; // Aumentare del 15% se la temperatura è inferiore a 10°C
    } else if (temperatura > 30) {
        fabbisognoCalorico *= 0.9; // Ridurre del 10% se la temperatura è superiore a 30°C
    }

    // Calcolare la quantità di crocchette per giorno
    const crocchettePerGiorno = (fabbisognoCalorico / calorieCrocchette) * 1000;

    // Mostrare il risultato
    document.getElementById('result').textContent = `Il tuo cane dovrebbe mangiare circa ${crocchettePerGiorno.toFixed(0)} g di crocchette al giorno.`;
    document.getElementById('result').style.display = 'block';
    document.getElementById('sources').style.display = 'block';
});

        // Inizializzazione della scelta del metodo
        toggleInputMethod();
    </script>
</body>
</html>
